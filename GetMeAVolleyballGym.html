<!--A Design by W3layouts
Author: W3layout
Author URL: http://w3layouts.com
License: Creative Commons Attribution 3.0 Unported
License URL: http://creativecommons.org/licenses/by/3.0/
-->
<!DOCTYPE html>
<html>
<head>
    <title>London Volleyball</title>
    <link rel="icon"
          type="image/png"
          href="http://static.wixstatic.com/media/1f7ec8_ba4d603f2e0147cfb9725c6bb22600cd.png_srz_42_43_85_22_0.50_1.20_0.00_png_srz">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
    <!--link href="css/bootstrap.css" rel='stylesheet' type='text/css' /-->
    <link href="css/style.css" rel='stylesheet' type='text/css' />


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <!-- script src="js/jquery-1.11.0.min.js"></script -->
    <!--script src="https://code.jquery.com/jquery-2.1.3.min.js"></script-->
    


	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.swipebox/1.4.1/css/swipebox.min.css">
	<!--link rel="stylesheet" href="css/swipebox.css"-->

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel='stylesheet' type='text/css' />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>


	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.css" />
	<!--link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.css" /-->
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.js"></script>
	<!--script src="http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.js"></script-->

    <!-- script src='https://api.tiles.mapbox.com/mapbox.js/v2.1.6/mapbox.js'></script-->
    <!-- link href='https://api.tiles.mapbox.com/mapbox.js/v2.1.6/mapbox.css' rel='stylesheet' /-->
    <!--link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" /-->
    <!--script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script -->

    <!---- start-smoth-scrolling---->
    <script type="text/javascript" src="js/move-top.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <!--script type="text/javascript" src="js/easing.js"></script-->
    
    <script type="text/javascript">
        jQuery(document).ready(function($) {
            $(".scroll").click(function(event){
                event.preventDefault();
                $('html,body').animate({scrollTop:$(this.hash).offset().top},1000);
            });
        });
    </script>

    <!--start-smoth-scrolling-->
    <!--animated-css-->
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.4.0/animate.min.css" rel="stylesheet" type="text/css" media="all">
    <!-- >link href="css/animate.css" rel="stylesheet" type="text/css" media="all"-->
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"></script>
    <!--script src="js/wow.min.js"></script-->
    <script>
        new WOW().init();
    </script>
    <!--animated-css-->
    <style>
    .gmnoprint img {
        max-width: none;
    }

    .panel:hover {
        background-color: rgb(237, 245, 252);
    }

    .map {
        min-width: 300px;
        min-height: 470px;
        width: 100%;
        height: 100%;
    }

    img {
        max-width: 110%;
        height: auto;
    }

    .clearfix {
        clear: both;
    }

    .rowcolor {
        background-color: #CCCCCC;
    }

    .padall {
        padding: 10px;
    }

    .padbig {
        padding: 20px;
    }

    .icon {
        font-size: 23px;
        color: #197BB5;
    }
</style>


    
    
</head>
<body>
<!--start-banner-->
<div class="banner" id="home">
    <div class="header" style="background: black">
        <div class="logo">
            <a href="index.html"><img src="images/indoor.png" alt=""></a>
            <!-- a href="index.html"><img src="images/beach.png" alt=""></a -->
        </div>
        <div class="navigation">
            <span class="menu"></span>
            <ul class="navig">
                <li><a>Looking for a Gym for your Volleyball</a><span></span></li>
                <!--  >li><a>ABOUT</a><span></span></li-->
            </ul>
        </div>
        <!--div class="clearfix"></div-->
    </div>
    <!--div class="banner-bottom">
        <ul>
            <li><a href="#"><span class="twt"> </span></a></li>
            <li><a href="#"><span class="t"> </span></a></li>
            <li><a href="#"><span class="g"> </span></a></li>
        </ul>
    </div-->
</div>
<!-- script-for-menu -->
<script>
    $("span.menu").click(function(){
        $(" ul.navig").slideToggle("slow" , function(){
        });
    });
</script>
<!--start-free-->
<div class="free wow bounce" data-wow-delay="0.1s">
    <div class="container">
        <div class="free-main">
            <h1>Rules we live by</h1>
            <p><sup><img src="images/quote-1.png" alt=""></sup> Luck is what happens when preparation meets opportunity. <sub><img src="images/quote-2.png" alt=""></sub> </p>
        </div>
    </div>
</div>
<!--end-free-->


<div class="container" id="gym" style="max-height: 800px">

    <div class="row padbig" >

        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
            <div class="row">
                <div id="map" class="map" style="min-height: 600px">
                </div>
            </div>
        </div>
    <div style="text-align: center ">
			<div class="panel panel-primary" style="display:inline-table">
				<div class="panel-heading">
					<h3 class="panel-title">Filter by Court type</h3>
				</div>
				<div class="panel-body">
					<label class="checkbox-inline">
					  <input type="checkbox" id="rdIndoor" value="option1" checked> Indoor
					</label>
					<label class="checkbox-inline">
					  <input type="checkbox" id="rdBeach" value="option2" checked> Beach
					</label>	
					<div class="btn-group padbig" data-toggle="buttons">
						<button type="button" id="resetButton" data-loading-text="Loading..." class="btn btn-primary" autocomplete="off">
			  				Apply filter and reset Map
						</button>
					</div>
				</div>
			</div>
    </div>

        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 " style="overflow: scroll ; max-height : 450px" id="ListOfGyms">
            
        </div>

    </div>
</div>

    <script>

    $('#resetButton').click(function () {

        console.log('reset map zoom');
        var latLondon  = 51.5286416;
        var lngLondon  = -0.1015987;
//console.log(
        map.setView((new L.LatLng(latLondon, lngLondon)), 10);
        //console.log($(this));
        //$(this).button('loading');


		resetMap();
    });


	$('.btn-filter').click(function () {
		$(this).toggleClass('active-checked'); 
        console.log('reset class filter');

        
        console.log('Beach checked: ' + $('#rdBeach').prop('checked'));
        console.log('Indoor checked: ' + $('#rdIndoor').prop('checked'));
        
        console.log('Beach active-checked: ' + $('#rdBeach').parent().hasClass('active-checked'));
        console.log('Indoor active-checked: ' + $('#rdIndoor').parent().hasClass('active-checked'));
        
		resetMap();

	  });
        
    </script>


<script src="https://maps.google.com/maps/api/js?sensor=false"></script>

<script type="text/javascript">

    var latLondon  =51.5286416;
    var lngLondon =-0.1015987;
    var myLondonLocation = new google.maps.LatLng(latLondon, lngLondon);

    var map = L.map('map').setView([latLondon, lngLondon], 10);
        var volleyIcon = L.icon({
//            iconUrl: 'images/marker1.png',
            iconUrl: 'images/indoorvb2.png',
            //shadowUrl: 'leaf-shadow.png',
            //iconSize:     [38, 95], // size of the icon
            //shadowSize:   [50, 64], // size of the shadow
            //iconAnchor:   [22, 94], // point of the icon which will correspond to marker's location
            //shadowAnchor: [4, 62],  // the same for the shadow
            popupAnchor:  [10, -5] // point from which the popup should open relative to the iconAnchor
        });

        var volleyBeachIcon = L.icon({
//          iconUrl: 'images/marker1.png',
          iconUrl: 'images/vls3001_PvZ_icon.ico',
          //shadowUrl: 'leaf-shadow.png',
          //iconSize:     [38, 95], // size of the icon
          //shadowSize:   [50, 64], // size of the shadow
          //iconAnchor:   [22, 94], // point of the icon which will correspond to marker's location
          //shadowAnchor: [4, 62],  // the same for the shadow
          popupAnchor:  [10, -5] // point from which the popup should open relative to the iconAnchor
      });

     	var mGymsInList = [];

        L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
            maxZoom: 18,
            attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
            '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
            'Imagery © <a href="http://mapbox.com">Mapbox</a>',
            id: 'latibbean.lgg1j91f',
            accessToken: 'pk.eyJ1IjoibGF0aWJiZWFuIiwiYSI6IlgtVWVKWXcifQ.1pwTsR0qN4DqOZHciOUFdA'
        }).addTo(map);


        var markers = new L.FeatureGroup();
        
    var myData;
     $.getJSON("gyms.json", function(data) {
         //Do nothing here?
      }).done(function (data) {
        // data is a JavaScript object now. Handle it as such

        //console.log(mAddresses.length);
        
        function compareGymName(a,b) {
  			if (a.Gym < b.Gym)
     			return -1;
  			if (a.Gym > b.Gym)
   				 return 1;
  			return 0;
		}
        data.sort(compareGymName);
	myData = data;
resetMap();
        
		//console.log("end");
    });

     function resetMap() {
         data = myData;
         $("#ListOfGyms").empty();
         mGymsInList = [];

         map.removeLayer(markers);
         markers.clearLayers();
         
         
    	 $.each( data, function( i, item ) {
 			if (item.Court=='Beach') {
 				if ($('#rdBeach').prop('checked')==true) {
 					var lMarker = L.marker([item.latitude, item.longitude], {icon:volleyBeachIcon})//.addTo(map)
             			.bindPopup("<b>" + item.Gym + "</b><br />" + item.Address+ "</b><br />" + item.Court + "</b><br />" + item.Info); 
 	        		markers.addLayer(lMarker);
 	    			addGymToPage(item, i);           
 		        }
 			} else if (item.Court=='Indoor') {
 				if ($('#rdIndoor').prop('checked')==true) {
 					var lMarker = L.marker([item.latitude, item.longitude], {icon:volleyIcon})//.addTo(map)
         				.bindPopup("<b>" + item.Gym + "</b><br />" + item.Address+ "</b><br />" + item.Court + "</b><br />" + item.Info); 
 					markers.addLayer(lMarker);
 	 	    		addGymToPage(item, i);           
      			}
 			}
       	});
    	 map.addLayer(markers);
       	
         function addGymToPage(iGym, i) {
     		if ($.inArray(iGym.Gym, mGymsInList) >= 0) {
         		return;
     		} else {
     			mGymsInList.push(iGym.Gym);
     			
 	            $("#ListOfGyms").append("<div>");
 	            var $lGymLine = $("#ListOfGyms div").last();
 	            $lGymLine.attr("id", iGym.Gym + "_1").addClass("col-xs-12").addClass("col-sm-12").addClass("col-md-12 col-lg-12");
 	            
 	            
 	            $lGymLine.append("<div>")
 	            var $lGymPanel = $("#ListOfGyms div").last();
 	            //console.log($lGymPanel);
 	            $lGymPanel.attr("id", iGym.Gym + "_2").addClass("panel").addClass("panel-default");
 	            $lGymPanel.bind("click", function() {
 	                //alert( "User clicked on: " + iGym.gym);
// 	                init_map_adress(iGym.Address);

 					map.setView((new L.LatLng(iGym.latitude, iGym.longitude)), 15);
// 					map.panTo(new L.LatLng(iGym.latitude, iGym.longitude));
// 					map.options.zoom = 2;
// 					map.options.maxZoom = 2;
 	            	//map.setView([iGym.latitude, iGym.longitude], 10);
 	            });
 	
 	            $lGymPanel.append("<div>");
 	            var $lGymPanelSub =  $("#ListOfGyms div").last().attr("id", iGym.Gym + "_3").addClass("row").addClass("padall");
 	
 	            $lGymPanelSub.append("<div>");
 	            var $lGymPanelSub2 = $("#ListOfGyms div").last().attr("id", iGym.Gym + "_4").addClass("col-xs-12").addClass("col-sm-12").addClass("col-md-12").addClass("col-lg-12");
 	
 	            $lGymPanelSub2.append("<div>");
 	            var $lGymPanel21 = $("#ListOfGyms div").last().attr("id", iGym.Gym + "_5").addClass("clearfix").append("<div>");//.addClass("pull-left");
 	
 	            // Adding Name
 	            $lGymPanel21.append("<span>");
 	            $("#ListOfGyms div").last().addClass("icon").text(iGym.Gym);
 	
 	            //Adding PostCode
 	            $lGymPanel21.append("<div>");
 	            $("#ListOfGyms div").last().addClass("pull-right").text(iGym.PostCode);
 	
 	            //var $lGymPanel21 = $lGymPanelSub2.append("#" + iGym.gym + "_4 " + "div").attr("id", iGym.gym + "_6").add("h4").text(iGym.gym)
 	            //$("#" + iGym.gym + "_6").append("span").addClass("fa").addClass("fa-map-marker").addClass("icon");
 	    		}
         }
     }

</script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.swipebox/1.4.1/js/jquery.swipebox.min.js"></script>
<!--script src="js/jquery.swipebox.min.js"></scrip-->
<script type="text/javascript">
    jQuery(function($) {
        $(".swipebox").swipebox();
    });
</script>
<!-- Portfolio Ends Here -->

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mixitup/2.1.11/jquery.mixitup.min.js"></script>
<!--script type="text/javascript" src="js/jquery.mixitup.min.js"></script-->
<script type="text/javascript">
    $(function () {

        var filterList = {

            init: function () {

                // MixItUp plugin
                // http://mixitup.io
                $('#portfoliolist').mixitup({
                    targetSelector: '.portfolio',
                    filterSelector: '.filter',
                    effects: ['fade'],
                    easing: 'snap',
                    // call the hover effect
                    onMixEnd: filterList.hoverEffect()
                });

            },

            hoverEffect: function () {

                // Simple parallax effect
                $('#portfoliolist .portfolio').hover(
                        function () {
                            $(this).find('.label').stop().animate({bottom: 0}, 200, 'easeOutQuad');
                            $(this).find('img').stop().animate({top: -30}, 500, 'easeOutQuad');
                        },
                        function () {
                            $(this).find('.label').stop().animate({bottom: -40}, 200, 'easeInQuad');
                            $(this).find('img').stop().animate({top: 0}, 300, 'easeOutQuad');
                        }
                );

            }

        };

// Run the show!
        filterList.init();

    });
</script>

<!--Footer-Starts-Here-->
<div class="footer">
    <div class="conatiner">
        <div class="footer-text wow bounce" data-wow-delay="0.1s">
            <p>Site by David Ureña</p>
            <ul>
                <li><a href="http://www.sideout.co.uk"><img style="max-width: 100px" src="http://static.wixstatic.com/media/a1273a_8da2cf9ad838df602cf9284a425ac0af.jpg_srb_p_365_216_75_22_0.50_1.20_0.00_jpg_srb"></a></li>
                <li><a href="http://www.londonvolleyball.org.uk"> <img style="max-width: 100px" src="http://www.londonvolleyball.org.uk/themes/avalon/img/header_logo_lva.png"></a></li>
                <li><a href="https://www.volleyballengland.org"><img style="max-width: 100px" src="https://www.volleyballengland.org/~media/images/imagesource.php?image=204.jpg&maxwidth=206"></a></li>
            </ul>
        </div>
    </div>
    <script type="text/javascript">
        $(document).ready(function() {
            /*
             var defaults = {
             containerID: 'toTop', // fading element id
             containerHoverID: 'toTopHover', // fading element hover id
             scrollSpeed: 1200,
             easingType: 'linear' 
             };
             */

            $().UItoTop({ easingType: 'easeOutQuart' });

        });
    </script>
    <a href="#home" id="toTop" class="scroll" style="display: block;"> <span id="toTopHover" style="opacity: 1;"> </span></a>
</div>
<!--Footer-Ends-Here-->
</body>
</html>